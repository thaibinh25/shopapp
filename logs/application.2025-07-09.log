2025-07-09 18:05:43 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-07-09 18:05:43 [main] INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 17.0.14 with PID 65735 (/Users/tranthaibinh/Documents/SHOPAPP_00/shopapp/target/classes started by tranthaibinh in /Users/tranthaibinh/Documents/SHOPAPP_00/shopapp)
2025-07-09 18:05:43 [main] INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-09 18:05:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-09 18:05:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 50 ms. Found 10 JPA repository interfaces.
2025-07-09 18:05:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8088 (http)
2025-07-09 18:05:45 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8088"]
2025-07-09 18:05:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-09 18:05:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-07-09 18:05:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-09 18:05:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1193 ms
2025-07-09 18:05:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-09 18:05:45 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.9.Final
2025-07-09 18:05:45 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-07-09 18:05:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-09 18:05:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-09 18:05:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5342eec5
2025-07-09 18:05:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-09 18:05:49 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-09 18:05:49 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-09 18:05:49 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-09 18:05:49 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-09 18:05:50 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-09 18:05:50 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-09 18:05:51 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1b2574d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@708c9f9e, org.springframework.security.web.context.SecurityContextHolderFilter@6f8a516c, org.springframework.security.web.header.HeaderWriterFilter@69e0e347, org.springframework.web.filter.CorsFilter@1196950e, org.springframework.security.web.authentication.logout.LogoutFilter@755d80d1, com.project.shopapp.filters.JwtTokenFilter@7a2d676e, com.project.shopapp.filters.JwtTokenFilter@7a2d676e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a9c51ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ac9ae05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cf5cb11, org.springframework.security.web.access.ExceptionTranslationFilter@16d7b13, org.springframework.security.web.access.intercept.AuthorizationFilter@5a963a90]
2025-07-09 18:05:51 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure Or [Mvc [pattern='/wss/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@4493ddbf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23ac7377, org.springframework.security.web.context.SecurityContextHolderFilter@6e44d39e, org.springframework.security.web.header.HeaderWriterFilter@4b71aee1, org.springframework.security.web.authentication.logout.LogoutFilter@9addea4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f122485, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fd9d86, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bb96f3f, org.springframework.security.web.access.ExceptionTranslationFilter@6d1ead2c, org.springframework.security.web.access.intercept.AuthorizationFilter@6c6f49d1]
2025-07-09 18:05:51 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - You are asking Spring Security to ignore Deferred [Mvc [pattern='/api/v1/products/images/**'], Ant [pattern='/api/v1/products/images/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-07-09 18:05:51 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will not secure Deferred [Mvc [pattern='/api/v1/products/images/**'], Ant [pattern='/api/v1/products/images/**']]
2025-07-09 18:05:51 [main] WARN  o.s.s.c.a.web.builders.WebSecurity - 

********************************************************************
**********        Security debugging is enabled.       *************
**********    This may include sensitive information.  *************
**********      Do not use in a production system!     *************
********************************************************************


2025-07-09 18:05:51 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8088"]
2025-07-09 18:05:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8088 (http) with context path ''
2025-07-09 18:05:51 [main] INFO  c.project.shopapp.ShopappApplication - Started ShopappApplication in 8.312 seconds (process running for 9.079)
2025-07-09 18:15:04 [http-nio-8088-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-09 18:15:04 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-09 18:15:04 [http-nio-8088-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-07-09 18:15:04 [http-nio-8088-exec-1] INFO  Spring Security Debugger - 

************************************************************

Request received for POST '/api/v1/products/uploads/75':

org.apache.catalina.connector.RequestFacade@7ff33bf3

servletPath:/api/v1/products/uploads/75
pathInfo:null
headers: 
authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiYWRtaW4iLCJ1c2VySWQiOjMsInN1YiI6IjMiLCJleHAiOjE3NTQ2NDQxNTZ9.IKNff3SalGCXr_Yn4CdQa9Fp7nzJvZ-gD-7ztCqzZg0
user-agent: PostmanRuntime/7.44.0
accept: */*
postman-token: 93ffbdc4-cca9-4a01-9b78-f3dd84ef1b60
host: localhost:8088
accept-encoding: gzip, deflate, br
connection: keep-alive
content-type: multipart/form-data; boundary=--------------------------953106015699292406698144
content-length: 2511727


Security filter chain: [
  DisableEncodeUrlFilter
  WebAsyncManagerIntegrationFilter
  SecurityContextHolderFilter
  HeaderWriterFilter
  CorsFilter
  LogoutFilter
  JwtTokenFilter
  JwtTokenFilter
  RequestCacheAwareFilter
  SecurityContextHolderAwareRequestFilter
  AnonymousAuthenticationFilter
  ExceptionTranslationFilter
  AuthorizationFilter
]


************************************************************


2025-07-09 18:15:10 [http-nio-8088-exec-1] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@5342eec5 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-07-09 18:43:02 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-09 18:43:02 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-07-09 18:43:02 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-07-09 18:43:16 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-07-09 18:43:16 [main] INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 17.0.14 with PID 66855 (/Users/tranthaibinh/Documents/SHOPAPP_00/shopapp/target/classes started by tranthaibinh in /Users/tranthaibinh/Documents/SHOPAPP_00/shopapp)
2025-07-09 18:43:16 [main] INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-09 18:43:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-09 18:43:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 10 JPA repository interfaces.
2025-07-09 18:43:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-09 18:43:17 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-09 18:43:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-09 18:43:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-07-09 18:43:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-09 18:43:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 908 ms
2025-07-09 18:43:17 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtTokenFilter' defined in file [/Users/tranthaibinh/Documents/SHOPAPP_00/shopapp/target/classes/com/project/shopapp/filters/JwtTokenFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/tranthaibinh/Documents/SHOPAPP_00/shopapp/target/classes/com/project/shopapp/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.project.shopapp.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-07-09 18:43:17 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-09 18:43:17 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-07-09 18:43:17 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-09 18:43:17 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine a suitable driver class


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).

2025-07-09 18:43:37 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-07-09 18:43:37 [main] INFO  c.project.shopapp.ShopappApplication - Starting ShopappApplication using Java 17.0.14 with PID 66876 (/Users/tranthaibinh/Documents/SHOPAPP_00/shopapp/target/classes started by tranthaibinh in /Users/tranthaibinh/Documents/SHOPAPP_00/shopapp)
2025-07-09 18:43:37 [main] INFO  c.project.shopapp.ShopappApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-09 18:43:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-09 18:43:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 10 JPA repository interfaces.
2025-07-09 18:43:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-07-09 18:43:38 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-09 18:43:38 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-09 18:43:38 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.26]
2025-07-09 18:43:38 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-09 18:43:38 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 943 ms
2025-07-09 18:43:38 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtTokenFilter' defined in file [/Users/tranthaibinh/Documents/SHOPAPP_00/shopapp/target/classes/com/project/shopapp/filters/JwtTokenFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userDetailsServiceImpl' defined in file [/Users/tranthaibinh/Documents/SHOPAPP_00/shopapp/target/classes/com/project/shopapp/services/UserDetailsServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.project.shopapp.repositories.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-07-09 18:43:38 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-09 18:43:38 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-07-09 18:43:38 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-09 18:43:38 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine a suitable driver class


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).

